{
  "lignes": [
    { "nom": "Râpé", "cadenceMoyenne": 0 },
    { "nom": "T2", "cadenceMoyenne": 0 },
    { "nom": "RT", "cadenceMoyenne": 0 },
    { "nom": "OMORI", "cadenceMoyenne": 0 },
    { "nom": "T1", "cadenceMoyenne": 0 },
    { "nom": "Sticks", "cadenceMoyenne": 0 },
    { "nom": "Emballage", "cadenceMoyenne": 0 },
    { "nom": "Dés", "cadenceMoyenne": 0 },
    { "nom": "Filets", "cadenceMoyenne": 0 },
    { "nom": "Prédécoupé", "cadenceMoyenne": 0 }
  ],
  "enregistrements": [
    {
      "id": 1,
      "ligne": "Râpé",
      "debut": "",
      "fin": "",
      "colis": 0,
      "qualite": "",
      "arret": "",
      "tempsArret": "",
      "commentaire": "",
      "date": ""
    }
  ],
  "arrets": [
    {
      "id": 1,
      "ligne": "Râpé",
      "motif": "",
      "duree": "",
      "date": ""
    }
  ]
}
// --- Sauvegarde persistante sur le fichier JSON ---
async function syncToServer() {
  try {
    await fetch('db.json', {
      method: 'PUT',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });
  } catch (e) {
    console.error("Erreur de sauvegarde sur le serveur:", e);
  }
}

// On appelle cette fonction à chaque sauvegarde
function sauvegarderDonnees(d) {
  localStorage.setItem(stockageCle, JSON.stringify(d));
  syncToServer(); // nouvelle ligne
}
