<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Synth√®se Production - Lactalis</title>
  <link rel="stylesheet" href="style.css">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/png" href="icons/icon-192.png">
  <meta name="theme-color" content="#007bff">
</head>

<body>
  <header class="header">
    <img src="Lactalis2023Logo.svg" alt="Lactalis" class="logo">
    <div class="titre">
      <h1><span class="titre-bleu">Synth√®se</span> Production</h1>
      <p id="dateHeure"></p>
    </div>
  </header>

  <main id="content">
    <div class="card">
      <h2>Choisissez une ligne</h2>
      <div class="menu-lignes">
        <button onclick="openPage('Atelier')">Atelier</button>
        <button onclick="openPage('R√¢p√©')">R√¢p√©</button>
        <button onclick="openPage('T2')">T2</button>
        <button onclick="openPage('RT')">RT</button>
        <button onclick="openPage('OMORI')">OMORI</button>
        <button onclick="openPage('T1')">T1</button>
        <button onclick="openPage('Sticks')">Sticks</button>
        <button onclick="openPage('Emballage')">Emballage</button>
        <button onclick="openPage('D√©s')">D√©s</button>
        <button onclick="openPage('Filets')">Filets</button>
        <button onclick="openPage('Pr√©d√©coup√©')">Pr√©d√©coup√©</button>
      </div>
    </div>
  </main>

  <!-- Calculatrice flottante -->
  <div id="calcPanel" class="calc-panel hidden">
    <input type="text" id="calcInput" readonly placeholder="0">
    <div class="calc-buttons">
      <button onclick="calcPress('7')">7</button>
      <button onclick="calcPress('8')">8</button>
      <button onclick="calcPress('9')">9</button>
      <button onclick="calcPress('/')">√∑</button>
      <button onclick="calcPress('4')">4</button>
      <button onclick="calcPress('5')">5</button>
      <button onclick="calcPress('6')">6</button>
      <button onclick="calcPress('*')">√ó</button>
      <button onclick="calcPress('1')">1</button>
      <button onclick="calcPress('2')">2</button>
      <button onclick="calcPress('3')">3</button>
      <button onclick="calcPress('-')">‚àí</button>
      <button onclick="calcPress('0')">0</button>
      <button onclick="calcPress('.')">.</button>
      <button onclick="calcEqual()">=</button>
      <button onclick="calcPress('+')">+</button>
      <button class="clear" onclick="calcClear()">C</button>
      <button class="close" onclick="toggleCalc()">Fermer</button>
    </div>
  </div>

  <!-- Ic√¥ne pour ouvrir la calculatrice -->
  <button class="calc-icon" onclick="toggleCalc()">üßÆ</button>

  <footer>
    <p>¬© Lactalis ‚Äî Synth√®se Production</p>
  </footer>

  <!-- Librairie Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Script principal -->
  <script src="app.js"></script>

  <!-- Service Worker -->
  <script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js')
      .then(() => console.log('‚úÖ Service Worker enregistr√©'))
      .catch(err => console.log('‚ùå Erreur SW :', err));
  }

  // Affichage dynamique de la date / heure / semaine
  function majDateHeure() {
    const d = new Date();
    const semaine = Math.ceil(((d - new Date(d.getFullYear(),0,1)) / 86400000 + new Date(d.getFullYear(),0,1).getDay()+1) / 7);
    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    document.getElementById("dateHeure").innerText =
      d.toLocaleDateString('fr-FR', options) + " ‚Äî Semaine " + semaine + " ‚Äî " +
      d.toLocaleTimeString('fr-FR', {hour: '2-digit', minute: '2-digit'});
  }
  majDateHeure();
  setInterval(majDateHeure, 60000);
  </script>

</body>
</html>
