<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#007bff" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" type="image/png" href="icons/icon-192.png" />
  <title>Synthèse Production Lactalis</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- ===== MENU LATÉRAL ===== -->
  <aside class="menu-container">
    <button class="menu-btn active" data-section="production">
      <span class="menu-emoji">🏭</span><span>Production</span>
    </button>
    <button class="menu-btn" data-section="personnel">
      <span class="menu-emoji">👥</span><span>Personnel</span>
    </button>
    <button class="menu-btn" data-section="organisation">
      <span class="menu-emoji">🗒️</span><span>Organisation</span>
    </button>
    <button class="menu-btn" data-section="dashboard">
      <span class="menu-emoji">📊</span><span>Tableau<br>de bord</span>
    </button>
  </aside>

  <!-- ===== CONTENU PRINCIPAL ===== -->
  <main id="content">
    <header class="header">
      <img src="icons/lactalis2023logo.png" alt="Lactalis" class="logo" />
      <h1>Synthèse Production</h1>
      <p id="dateTime"></p>
    </header>

    <!-- ===== SECTION PRODUCTION ===== -->
    <section id="production" class="page fade active">
      <h2>Choisir une ligne de production</h2>
      <div class="lines-container">
        <button onclick="openLine('Râpé')">Râpé</button>
        <button onclick="openLine('T2')">T2</button>
        <button onclick="openLine('RT')">RT</button>
        <button onclick="openLine('OMORI')">OMORI</button>
        <button onclick="openLine('T1')">T1</button>
        <button onclick="openLine('Sticks')">Sticks</button>
        <button onclick="openLine('Emballage')">Emballage</button>
        <button onclick="openLine('Dés')">Dés</button>
        <button onclick="openLine('Filets')">Filets</button>
        <button onclick="openLine('Prédécoupé')">Prédécoupé</button>
      </div>
    </section>

    <!-- ===== SECTION PERSONNEL ===== -->
    <section id="personnel" class="page fade">
      <h2>Gestion du personnel</h2>
      <form id="personnelForm">
        <label>Type :</label>
        <select id="typePersonnel">
          <option>Absence</option>
          <option>Retard</option>
          <option>Départ</option>
          <option>RAH</option>
          <option>Autre</option>
        </select>
        <label>Commentaire :</label>
        <textarea id="commentPersonnel" placeholder="Détails..."></textarea>
        <button type="button" onclick="ajouterPersonnel()">Enregistrer</button>
      </form>
      <div id="historiquePersonnel"></div>
    </section>

    <!-- ===== SECTION ORGANISATION ===== -->
    <section id="organisation" class="page fade">
      <h2>Consignes & Organisation</h2>
      <form id="consigneForm">
        <textarea id="texteConsigne" placeholder="Nouvelle consigne..."></textarea>
        <button type="button" onclick="ajouterConsigne()">Enregistrer la consigne</button>
      </form>
      <div id="listeConsignes"></div>
    </section>

    <!-- ===== SECTION TABLEAU DE BORD ===== -->
    <section id="dashboard" class="page fade">
      <h2>Tableau de bord global</h2>
      <div id="graphContainer">
        <canvas id="globalChart"></canvas>
      </div>
      <button onclick="exportAll()">📤 Export Excel global</button>
      <button onclick="resetAll()">🧹 Remise à zéro complète</button>
    </section>

    <!-- ===== PIED DE PAGE ===== -->
    <footer class="footer">
      <p>Lactalis © 2025 — Application interne de suivi de production</p>
    </footer>
  </main>

  <!-- ===== BOUTONS FLOTTANTS ===== -->
  <div class="fab-container">
    <button id="fabArret" class="fab" title="Arrêts de ligne">⏸️</button>
    <button id="fabGraph" class="fab" title="Graphiques">📈</button>
    <button id="fabCalc" class="fab" title="Calculatrice">🧮</button>
  </div>

  <!-- ===== CALCULATRICE ===== -->
  <div id="calculator" class="calculator hidden">
    <input type="text" id="calc-display" readonly />
    <div class="calc-buttons">
      <button>7</button><button>8</button><button>9</button><button>/</button>
      <button>4</button><button>5</button><button>6</button><button>*</button>
      <button>1</button><button>2</button><button>3</button><button>-</button>
      <button>0</button><button>.</button><button>=</button><button>+</button>
      <button id="calc-clear">C</button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="app.js"></script>
</body>
</html>
