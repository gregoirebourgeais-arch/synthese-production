<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Synthèse Production Lactalis</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
</head>

<body>
  <header class="header">
    <img src="logo.png" alt="Logo Lactalis" class="logo" />
    <h1>Synthèse Production Lactalis</h1>
    <div id="dateHeure"></div>
    <div id="equipeActuelle"></div>
  </header>

  <nav class="main-nav">
    <button onclick="showSection('atelier')">🏭 Atelier</button>
    <button onclick="showSection('arrets')">⏸️ Arrêts</button>
    <button onclick="showSection('personnel')">👥 Personnel</button>
    <button onclick="showSection('organisation')">🗒️ Organisation</button>
    <button onclick="exportGlobal()">📊 Export</button>
  </nav>

  <!-- Bandeau horizontal fluide pour les lignes -->
  <div class="ligne-container">
    <div class="ligne-scroll">
      <button onclick="selectLigne('Râpé')">Râpé</button>
      <button onclick="selectLigne('T2')">T2</button>
      <button onclick="selectLigne('RT')">RT</button>
      <button onclick="selectLigne('OMORI')">OMORI</button>
      <button onclick="selectLigne('T1')">T1</button>
      <button onclick="selectLigne('Sticks')">Sticks</button>
      <button onclick="selectLigne('Emballage')">Emballage</button>
      <button onclick="selectLigne('Dés')">Dés</button>
      <button onclick="selectLigne('Filets')">Filets</button>
      <button onclick="selectLigne('Prédécoupé')">Prédécoupé</button>
    </div>
  </div>

  <main>
    <!-- Section Atelier (page d'accueil avec graphiques) -->
    <section id="atelier" class="page-section active">
      <h2>Atelier</h2>
      <canvas id="chartQuantites" width="400" height="250"></canvas>
    </section>

    <!-- Section Arrêts -->
    <section id="arrets" class="page-section">
      <h2>Arrêts</h2>
      <form id="formArret">
        <label>Durée de l'arrêt (min):</label>
        <input type="number" id="dureeArret" min="1" />
        <label>Motif :</label>
        <input type="text" id="motifArret" />
        <button type="button" onclick="enregistrerArret()">Enregistrer</button>
      </form>
      <h3>Historique des arrêts</h3>
      <ul id="historiqueArrets"></ul>
    </section>

    <!-- Section Personnel -->
    <section id="personnel" class="page-section">
      <h2>Personnel</h2>
      <form id="formPersonnel">
        <label>Nom :</label>
        <input type="text" id="nomPersonnel" />
        <label>Poste :</label>
        <input type="text" id="postePersonnel" />
        <button type="button" onclick="enregistrerPersonnel()">Enregistrer</button>
      </form>
      <h3>Historique du personnel</h3>
      <ul id="historiquePersonnel"></ul>
    </section>

    <!-- Section Organisation -->
    <section id="organisation" class="page-section">
      <h2>Organisation</h2>
      <textarea id="consigneTexte" placeholder="Écrire une consigne..."></textarea>
      <button type="button" onclick="enregistrerConsigne()">Enregistrer</button>
      <h3>Historique des consignes</h3>
      <ul id="historiqueConsignes"></ul>
    </section>
  </main>

  <footer>
    Lactalis © 2025 — Application interne de suivi de production
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="app.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js');
    }
  </script>
</body>
</html>
